version="$2"
enter_remote_archive "eigen-${version}" "https://gitlab.com/libeigen/eigen/-/archive/3.3.7/eigen-${version}.tar.gz" "freetype-${version}.tar.gz" "tar xf ARCHIVE_FILENAME"
build_and_install cmake "${@:3}"

PKG_NAME=eigen

# Eigen is a header library so there are no compile options.
# It can use with BLAS and LAPACK for some function by defining the
# variables 'EIGEN_USE_BLAS' and 'EIGEN_USE_LAPACKE' before including the
# Eigen headers. In this case the application should be linked with the BLAS
# and LAPACK libraries.

# In alternative (or may be in addition) to what described above Eigen can
# use OpenMP by linking to 'openmp'.
# See http://eigen.tuxfamily.org/dox/TopicMultiThreading.htm for more details.

# Warning, since the 'EOF' below is unquoted shell variables substitutions
# will be done on the text body. The '$' should be therefore escaped to
# avoid shell substitution when needed.
cat << EOF > "${PKG_NAME}.pc"
prefix=${WIN_INSTALL_PREFIX}
includedir=\${prefix}/include/eigen3

Name: ${PKG_NAME}
Description: A C++ template library for linear algebra
Version: ${version}

Libs:
Cflags: -I\${includedir}
EOF

install_pkgconfig_file "${PKG_NAME}.pc"

